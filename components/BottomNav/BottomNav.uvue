<template>
	<!-- åº•éƒ¨å¯¼èˆªæ  -->
	<view class="bottom-nav">
		<view class="nav-item" :class="{active: props.current === 'home'}"
			@tap="switchToTarget('/pages/dynamic/index')">
			<view class="nav-icon">
				<text>ğŸ </text>
			</view>
			<text class="nav-label">é¦–é¡µ</text>
		</view>

		<view class="nav-item" :class="{active: props.current === 'study'}"
			@tap="switchToTarget('/pages/dynamic/study-center')">
			<view class="nav-icon">
				<text>ğŸ“–</text>
			</view>
			<text class="nav-label">å­¦ä¹ </text>
		</view>

		<view class="nav-item" :class="{active: props.current === 'statistics'}"
			@tap="switchToTarget('/pages/dynamic/stats-page')">
			<view class="nav-icon">
				<text>ğŸ“ˆ</text>
			</view>
			<text class="nav-label">ç»Ÿè®¡</text>
		</view>

		<view class="nav-item" :class="{active: props.current === 'mine'}"
			@tap="switchToTarget('/pages/dynamic/profile-page')">
			<view class="nav-icon">
				<text>ğŸ‘¤</text>
			</view>
			<text class="nav-label">æˆ‘çš„</text>
		</view>
	</view>
</template>

<script setup lang="uts">
	const props = defineProps({
		current: {
			type: String,
			require: true
		}
	})

	const switchToTarget = (path : string) => {
		uni.switchTab({
			url: path
		})
	}
</script>

<style scoped>
	/* åº•éƒ¨å¯¼èˆª */
	.bottom-nav {
		position: fixed;
		bottom: 0;
		left: 0;
		right: 0;
		background: white;
		flex-direction: row;
		justify-content: space-around;
		padding: 24rpx 32rpx;
		border-top: 2rpx solid #e9ecef;
		z-index: 999;
	}

	.nav-item {
		align-items: center;
		color: #6c757d;
		font-size: 24rpx;
	}

	.nav-item.active {
		color: #333;
	}

	.nav-icon {
		width: 40rpx;
		height: 40rpx;
		margin-bottom: 8rpx;
	}

	.nav-label {
		font-size: 24rpx;
	}
</style>