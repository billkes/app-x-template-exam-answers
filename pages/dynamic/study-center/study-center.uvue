<template>
	<scroll-view class="root">
		<view class="container">

			<!-- å­¦ä¹ è¿›åº¦åŒºåŸŸ -->
			<view class="progress-section">
				<text class="welcome-title">ä½ å¥½ï¼Œææ˜ï¼æ­£åœ¨å¤‡æˆ˜2025çœè€ƒ</text>

				<view class="progress-container">
					<view class="progress-fill" style="width: 70rpx;" />
				</view>

				<view class="progress-stats">
					<view class="stat-item">
						<text class="stat-value">35%</text>
						<text class="stat-label">æ•´ä½“è¿›åº¦</text>
					</view>
					<view class="stat-item">
						<text class="stat-value">8</text>
						<text class="stat-label">å·²å­¦è¯¾ç¨‹</text>
					</view>
					<view class="stat-item">
						<text class="stat-value">120</text>
						<text class="stat-label">ç´¯è®¡ç»ƒä¹ </text>
					</view>
				</view>
			</view>

			<!-- ç»§ç»­å­¦ä¹ åŒºåŸŸ -->
			<view class="continue-section">
				<view class="section-title">
					<text>ç»§ç»­å­¦ä¹ </text>
					<text class="view-all">æŸ¥çœ‹å…¨éƒ¨</text>
				</view>

				<view class="course-card">
					<view class="course-image">
						<text class="iconfont icon-barchart"></text>
					</view>
					<view class="course-content">
						<view>
							<text class="course-title">è¡Œæµ‹æŠ€å·§ç²¾è®²</text>
							<text class="course-info">å½“å‰è¿›åº¦ï¼šç¬¬3ç« -è¨€è¯­ç†è§£</text>
							<view class="chapter-progress">
								<view class="chapter-fill" style="width: 60%;" />
							</view>
						</view>
						<button class="continue-button" @tap="handleContinue">ç»§ç»­å­¦ä¹ </button>
					</view>
				</view>
			</view>

			<!-- æˆ‘çš„è¯¾ç¨‹åŒºåŸŸ -->
			<view class="my-courses-section">
				<view class="section-title">
					<text>æˆ‘çš„è¯¾ç¨‹</text>
					<text class="view-all">ç®¡ç†</text>
				</view>

				<view>
					<view class="course-item" @tap="goCourse('è¡Œæµ‹åŸºç¡€')">
						<view class="course-icon">
							<text>ğŸ§®</text>
						</view>
						<view class="course-details">
							<text class="course-name">è¡Œæµ‹åŸºç¡€</text>
							<text class="course-meta">ç‹è€å¸ˆ Â· 20è¯¾æ—¶</text>
							<view class="course-progress">
								<view class="course-progress-fill" style="width: 85%;" />
							</view>
						</view>
						<button class="course-action" @tap="handleContinue">ç»§ç»­</button>
					</view>

					<view class="course-item" @tap="goCourse('ç”³è®ºå®æˆ˜')">
						<view class="course-icon">
							<text>âœï¸</text>
						</view>
						<view class="course-details">
							<text class="course-name">ç”³è®ºå®æˆ˜</text>
							<text class="course-meta">æè€å¸ˆ Â· 15è¯¾æ—¶</text>
							<view class="course-progress">
								<view class="course-progress-fill" style="width: 20%;" />
							</view>
						</view>
						<button class="course-action" @tap="handleContinue">ç»§ç»­</button>
					</view>

					<view class="course-item course-item-last" @tap="goCourse('æ•°èµ„çªç ´')">
						<view class="course-icon">
							<text class="iconfont icon-linechart"></text>
						</view>
						<view class="course-details">
							<text class="course-name">æ•°èµ„çªç ´</text>
							<text class="course-meta">å¼ è€å¸ˆ Â· 12è¯¾æ—¶</text>
							<view class="course-progress">
								<view class="course-progress-fill empty" style="width: 0%;" />
							</view>
						</view>
						<button class="course-action" @tap="handleContinue">å¼€å§‹</button>
					</view>
				</view>
			</view>

			<!-- æ¨èè¯¾ç¨‹åŒºåŸŸ -->
			<view class="recommended-section">
				<view class="section-title">
					<text>ä¸ºä½ æ¨è</text>
					<text class="view-all">å…¨éƒ¨</text>
				</view>

				<scroll-view class="recommended-scroll">
					<view class="recommended-card" @tap="goDetail('é€»è¾‘åˆ¤æ–­ä¸“é¡¹çªç ´')">
						<view class="recommended-image">
							<text>ğŸ§ </text>
						</view>
						<view class="recommended-content">
							<text class="recommended-tag">å¼±é¡¹æ¨è</text>
							<text class="recommended-title">é€»è¾‘åˆ¤æ–­ä¸“é¡¹çªç ´</text>
							<text class="recommended-info">8è¯¾æ—¶ Â· 4.8åˆ†</text>
						</view>
					</view>

					<view class="recommended-card" @tap="goDetail('è€ƒå‰å†²åˆº30å¤©')">
						<view class="recommended-image">
							<text>â±ï¸</text>
						</view>
						<view class="recommended-content">
							<text class="recommended-tag">çƒ­é—¨ä¸“é¢˜</text>
							<text class="recommended-title">è€ƒå‰å†²åˆº30å¤©</text>
							<text class="recommended-info">30è¯¾æ—¶ Â· 4.9åˆ†</text>
						</view>
					</view>

					<view class="recommended-card" @tap="goDetail('ç”³è®ºèŒƒæ–‡ç²¾è®²')">
						<view class="recommended-image">
							<text class="iconfont icon-book"></text>
						</view>
						<view class="recommended-content">
							<text class="recommended-tag">æœ€æ–°ä¸Šçº¿</text>
							<text class="recommended-title">ç”³è®ºèŒƒæ–‡ç²¾è®²</text>
							<text class="recommended-info">10è¯¾æ—¶ Â· 4.7åˆ†</text>
						</view>
					</view>
				</scroll-view>
			</view>

			<!-- æ¯æ—¥ç²¾é€‰åŒºåŸŸ -->
			<view class="daily-section">
				<view class="section-title">
					<text>æ¯æ—¥ç²¾é€‰</text>
					<text class="view-all">æ›´å¤š</text>
				</view>

				<view class="daily-card" @tap="goDetail('5ä¸ªå¸¸è€ƒæˆè¯­è¾¨æ')">
					<view class="daily-image">
						<text>ğŸ’</text>
					</view>
					<view class="daily-content">
						<text class="daily-title">5ä¸ªå¸¸è€ƒæˆè¯­è¾¨æ</text>
						<text class="daily-desc">æŒæ¡è¿™äº›é«˜é¢‘è€ƒç‚¹ï¼Œè½»æ¾åº”å¯¹è¨€è¯­ç†è§£é¢˜</text>
						<button class="daily-button" @tap="handleDaily">ç«‹å³å­¦ä¹ </button>
					</view>
				</view>
			</view>

			<!-- å­¦ä¹ å·¥å…·å…¥å£åŒºåŸŸ -->
			<view class="tools-section">
				<view class="section-title">
					<text>å­¦ä¹ å·¥å…·</text>
				</view>

				<view class="tools-grid">
					<view class="tool-item" @tap="goTool('çœŸé¢˜æ¨¡è€ƒ')">
						<view class="tool-icon">
							<text>ğŸ“„</text>
						</view>
						<text class="tool-label">çœŸé¢˜æ¨¡è€ƒ</text>
					</view>

					<view class="tool-item" @tap="goTool('æ™ºèƒ½åˆ·é¢˜')">
						<view class="tool-icon">
							<text class="iconfont icon-edit"></text>
						</view>
						<text class="tool-label">æ™ºèƒ½åˆ·é¢˜</text>
					</view>

					<view class="tool-item" @tap="goTool('æˆ‘çš„é”™é¢˜')">
						<view class="tool-icon">
							<text class="iconfont icon-close"></text>
						</view>
						<text class="tool-label">æˆ‘çš„é”™é¢˜</text>
					</view>

					<view class="tool-item" @tap="goTool('æˆ‘çš„æ”¶è—')">
						<view class="tool-icon">
							<text class="iconfont icon-star"></text>
						</view>
						<text class="tool-label">æˆ‘çš„æ”¶è—</text>
					</view>
				</view>
			</view>

			<BottomNav current="study" />

		</view>
	</scroll-view>
</template>

<script setup lang="uts">
	const handleContinue = () => {
		uni.showToast({ title: 'ç»§ç»­å­¦ä¹ è¡Œæµ‹æŠ€å·§ç²¾è®²è¯¾ç¨‹', icon: 'none' })
	}
	const goCourse = (name : string) => {
		uni.showToast({ title: `è¿›å…¥${name}è¯¾ç¨‹`, icon: 'none' })
	}
	const goDetail = (title : string) => {
		uni.showToast({ title: `æŸ¥çœ‹${title}è¯¦æƒ…`, icon: 'none' })
	}
	const handleDaily = () => {
		uni.showToast({ title: 'å¼€å§‹å­¦ä¹ æ¯æ—¥ç²¾é€‰å†…å®¹', icon: 'none' })
	}
	const goTool = (tool : string) => {
		uni.showToast({ title: `è¿›å…¥${tool}`, icon: 'none' })
	}
</script>

<style scoped>
	/* å…¨å±€ */
	.root {
		flex: 1;
		background-color: #f8f9fc;
	}

	.container {
		padding: 32rpx 32rpx 120rpx;
	}

	/* é€šç”¨å¡ç‰‡ */
	.progress-section,
	.continue-section,
	.my-courses-section,
	.recommended-section,
	.daily-section,
	.tools-section {
		background: linear-gradient(to bottom, #ffffff, #f8f9fc);
		border-radius: 40rpx;
		padding: 40rpx;
		margin-bottom: 32rpx;
		border: 2rpx solid #e6e9f0;
	}

	.section-title {
		font-size: 36rpx;
		font-weight: 600;
		color: #3a397a;
		margin-bottom: 32rpx;
		justify-content: space-between;
		align-items: center;
		flex-direction: row;
	}

	.view-all {
		font-size: 24rpx;
		color: #6c757d;
	}

	/* å­¦ä¹ è¿›åº¦ */
	.welcome-title {
		font-size: 36rpx;
		font-weight: 600;
		color: #3a397a;
		margin-bottom: 24rpx;
	}

	.progress-container {
		width: 100%;
		height: 24rpx;
		background-color: #f0f2f7;
		border-radius: 12rpx;
		overflow: hidden;
		border: 2rpx solid #e6e9f0;
		margin-bottom: 24rpx;
	}

	.progress-fill {
		height: 100%;
		background: linear-gradient(to right, #3a397a, #6a69b3);
		border-radius: 12rpx;
	}

	.progress-stats {
		justify-content: space-between;
		flex-direction: row;
	}

	.stat-item {
		flex-direction: column;
		align-items: center;
	}

	.stat-value {
		font-size: 32rpx;
		font-weight: 600;
		color: #3a397a;
	}

	.stat-label {
		font-size: 24rpx;
		color: #6c757d;
	}

	/* ç»§ç»­å­¦ä¹ å¡ç‰‡ */
	.course-card {
		margin-bottom: 32rpx;
		background-color: #f8f9fc;
		border-radius: 24rpx;
		overflow: hidden;
		border: 2rpx solid #e6e9f0;
		flex-direction: row;
	}

	.course-image {
		width: 200rpx;
		height: 200rpx;
		background: linear-gradient(to bottom right, #3a397a, #4f4e8c);
		align-items: center;
		justify-content: center;
		color: #fff;
		font-size: 48rpx;
	}

	.course-content {
		flex: 1;
		padding: 24rpx;
		flex-direction: column;
		justify-content: space-between;
	}

	.course-title {
		font-size: 32rpx;
		font-weight: 600;
		color: #2c2c2c;
		margin-bottom: 8rpx;
	}

	.course-info {
		font-size: 24rpx;
		color: #6c757d;
		margin-bottom: 16rpx;
	}

	.chapter-progress {
		width: 100%;
		height: 12rpx;
		background-color: #e6e9f0;
		border-radius: 6rpx;
		overflow: hidden;
		margin-bottom: 16rpx;
	}

	.chapter-fill {
		height: 100%;
		background: linear-gradient(to right, #3a397a, #6a69b3);
		border-radius: 6rpx;
	}

	.continue-button {
		padding: 16rpx 32rpx;
		background: linear-gradient(to bottom right, #3a397a, #4f4e8c);
		color: #fff;
		border-radius: 16rpx;
		font-size: 28rpx;
		font-weight: 500;
		border: 2rpx solid #2f2e62;
		align-self: flex-end;
	}

	/* æˆ‘çš„è¯¾ç¨‹åˆ—è¡¨ */
	.course-item {
		padding: 24rpx 0;
		border-bottom: 2rpx solid #e6e9f0;
		flex-direction: row;
	}

	.course-item-last {
		border-bottom: none;
	}

	.course-icon {
		width: 100rpx;
		height: 100rpx;
		border-radius: 20rpx;
		background: linear-gradient(to bottom right, #3a397a, #4f4e8c);
		align-items: center;
		justify-content: center;
		color: #fff;
		font-size: 40rpx;
		margin-right: 24rpx;
		flex-shrink: 0;
	}

	.course-details {
		flex: 1;
		flex-direction: column;
		justify-content: center;
	}

	.course-name {
		font-size: 32rpx;
		font-weight: 500;
		color: #2c2c2c;
		margin-bottom: 8rpx;
	}

	.course-meta {
		font-size: 24rpx;
		color: #6c757d;
		margin-bottom: 16rpx;
	}

	.course-progress {
		width: 100%;
		height: 12rpx;
		background-color: #e6e9f0;
		border-radius: 6rpx;
		overflow: hidden;
		margin-bottom: 16rpx;
	}

	.course-progress-fill {
		height: 100%;
		border-radius: 6rpx;
	}

	.empty {
		background-color: #e6e9f0;
	}

	.course-action {
		padding: 12rpx 24rpx;
		background: linear-gradient(to bottom right, #3a397a, #4f4e8c);
		color: #fff;
		border-radius: 12rpx;
		font-size: 24rpx;
		font-weight: 500;
		border: 2rpx solid #2f2e62;
	}

	/* æ¨èè¯¾ç¨‹æ¨ªå‘æ»šåŠ¨ */
	.recommended-scroll {
		flex-direction: row;
		padding: 16rpx 0;
	}

	.recommended-card {
		width: 400rpx;
		background-color: #f8f9fc;
		border-radius: 24rpx;
		margin-right: 24rpx;
		flex-shrink: 0;
		border: 2rpx solid #e6e9f0;
	}

	.recommended-image {
		height: 200rpx;
		background: linear-gradient(to bottom right, #3a397a, #4f4e8c);
		align-items: center;
		justify-content: center;
		color: #fff;
		font-size: 48rpx;
	}

	.recommended-content {
		padding: 24rpx;
	}

	.recommended-tag {
		padding: 4rpx 16rpx;
		background: linear-gradient(to bottom right, #ff7e5f, #ff9a8b);
		color: #fff;
		border-radius: 20rpx;
		font-size: 20rpx;
		margin-bottom: 16rpx;
		border: 2rpx solid #e25b3b;
	}

	.recommended-title {
		font-size: 28rpx;
		font-weight: 600;
		color: #2c2c2c;
		margin-bottom: 8rpx;
	}

	.recommended-info {
		font-size: 24rpx;
		color: #6c757d;
	}

	/* æ¯æ—¥ç²¾é€‰ */
	.daily-card {
		background-color: #f8f9fc;
		border-radius: 24rpx;
		overflow: hidden;
		border: 2rpx solid #e6e9f0;
		flex-direction: row;
	}

	.daily-image {
		width: 200rpx;
		height: 200rpx;
		background: linear-gradient(to bottom right, #3a397a, #4f4e8c);
		align-items: center;
		justify-content: center;
		color: #fff;
		font-size: 48rpx;
		flex-shrink: 0;
	}

	.daily-content {
		flex: 1;
		padding: 24rpx;
		flex-direction: column;
		justify-content: center;
	}

	.daily-title {
		font-size: 32rpx;
		font-weight: 600;
		color: #2c2c2c;
		margin-bottom: 8rpx;
	}

	.daily-desc {
		font-size: 24rpx;
		color: #6c757d;
		margin-bottom: 16rpx;
	}

	.daily-button {
		padding: 12rpx 24rpx;
		background: linear-gradient(to bottom right, #3a397a, #4f4e8c);
		color: #fff;
		border-radius: 12rpx;
		font-size: 24rpx;
		font-weight: 500;
		border: 2rpx solid #2f2e62;
		align-self: flex-start;
	}

	/* å­¦ä¹ å·¥å…·ç½‘æ ¼ */
	.tools-grid {
		flex-direction: row;
		flex-wrap: wrap;
	}

	.tool-item {
		width: 25%;
		align-items: center;
		padding: 24rpx;
	}

	.tool-icon {
		width: 100rpx;
		height: 100rpx;
		border-radius: 50rpx;
		background: linear-gradient(to bottom right, #3a397a, #4f4e8c);
		align-items: center;
		justify-content: center;
		color: #fff;
		font-size: 40rpx;
		margin-bottom: 16rpx;
		border: 2rpx solid #2f2e62;
	}

	.tool-label {
		font-size: 24rpx;
		color: #2c2c2c;
		text-align: center;
	}
</style>